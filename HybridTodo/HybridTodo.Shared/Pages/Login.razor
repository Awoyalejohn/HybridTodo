@page "/login"
@inject AuthClient AuthClient
@inject HttpClient HttpClient
@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime

<PageTitle>Login</PageTitle>

<h1>Login</h1>


<FluentButton Appearance="Appearance.Accent" @onclick="LoginAsync">Login</FluentButton>

<FluentButton Appearance="Appearance.Stealth" @onclick="LogoutAsync">Logout</FluentButton>

@code {
    private async Task LoginAsync()
    {
        var authModule = await JSRuntime.InvokeAsync<IJSObjectReference>("import", "./js/auth.js");
        bool result = await authModule.InvokeAsync<bool>("loginAsync", "test@test.com", "MyPassword");

        Console.WriteLine(result);

    }

    private async Task LogoutAsync()
    {
        var authModule = await JSRuntime.InvokeAsync<IJSObjectReference>("import", "./js/auth.js");
        await authModule.InvokeVoidAsync("logoutAsync");
    }
}
